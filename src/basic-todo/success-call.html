<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>HTMX Experiment</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/htmx.org"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/client-side-templates.js"></script>
    <script src="https://mozilla.github.io/nunjucks/files/nunjucks.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="flex flex-col gap-3 px-4 py-4">
    <div
      hx-get="../_.json"
      hx-ext="client-side-templates"
      hx-swap="outerHTML"
      hx-target="this"
      hx-trigger="load"
      nunjucks-template="common"
    >
    </div>

    <script id="common" type="text/html">
      {% from "call_todo.html.njk" import render_call_todo %}
      {% from "common.html.njk"    import data_success_endpoint  %}
      {{ render_call_todo(data_success_endpoint) }}
    </script>

    <script id="todo" type="text/html">
      {% extends "display_todo.html.njk" %}    
    </script>
  </body>
</html>
